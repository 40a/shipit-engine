<li class="commit <%= 'locked' if commit.locked? %>" id="commit-<%= commit.id %>">
  <%= render 'shipit/shared/author', author: commit.author %>
  <%= render commit.status %>
  <div class="commit-details">
    <span class="commit-title"><%= render_commit_message_with_link commit %></span>
    <p class="commit-meta">
      <span class="sha"><%= render_commit_id_link(commit) %></span>
      <% if commit.additions? && commit.deletions? %>
        <span class="code-additions">+<%= commit.additions %></span>
        <span class="code-deletions">-<%= commit.deletions %></span>
      <% end %>
    </p>
    <p class="commit-meta">
      <%= timeago_tag(commit.committed_at, force: true) %>
    </p>
  </div>
  <div class="commit-lock" >
    <%= link_to stack_commit_path(commit.stack, commit), 'data-tooltip' => (commit.locked? ? 'This commit is unsafe to deploy. Click to mark it as safe' : 'This commit is safe to deploy. Click to mark it as unsafe') do %>
      <i class="icon icon--lock"></i>
    <% end %>
  </div>
  <div class="commit-actions">
    <%= deploy_button(commit) %>
  </div>
</li>
